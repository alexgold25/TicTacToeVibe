<Window x:Class="TicTacToeVibe.Wpf.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="TicTacToeVibe" Height="350" Width="300">

    <Window.Resources>
        <Style x:Key="CellButton" TargetType="Button">
            <Setter Property="FontSize" Value="32"/>
            <Setter Property="MinWidth" Value="60"/>
            <Setter Property="MinHeight" Value="60"/>
        </Style>
    </Window.Resources>

    <DockPanel Margin="10">
        <StackPanel DockPanel.Dock="Top" Orientation="Horizontal" Margin="0,0,0,10">
            <CheckBox Content="Human vs AI" IsChecked="{Binding IsHumanVsAi}" Margin="0,0,10,0"/>
            <Button Content="New Game" Command="{Binding NewGameCommand}" Margin="0,0,10,0"/>
            <TextBlock Text="{Binding StatusText}" VerticalAlignment="Center"/>
        </StackPanel>

        <ItemsControl ItemsSource="{Binding Cells}" AlternationCount="9">
            <ItemsControl.ItemsPanel>
                <ItemsPanelTemplate>
                    <UniformGrid Rows="3" Columns="3"/>
                </ItemsPanelTemplate>
            </ItemsControl.ItemsPanel>
            <ItemsControl.ItemTemplate>
                <DataTemplate>
                    <Button Style="{StaticResource CellButton}"
                            Content="{Binding}"
                            Command="{Binding DataContext.CellClickCommand, RelativeSource={RelativeSource AncestorType=Window}}"
                            CommandParameter="{Binding (ItemsControl.AlternationIndex),
                                                       RelativeSource={RelativeSource AncestorType=ContentPresenter}}"/>
                </DataTemplate>
            </ItemsControl.ItemTemplate>
        </ItemsControl>
    </DockPanel>
</Window>
